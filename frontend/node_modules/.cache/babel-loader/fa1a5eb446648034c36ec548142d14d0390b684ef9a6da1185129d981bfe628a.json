{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jeduo\\\\OneDrive\\\\Documentos\\\\Full Stack\\\\proyectos react\\\\proyecto-final\\\\frontend\\\\src\\\\context\\\\CarritoContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CarritoContext = /*#__PURE__*/createContext();\nexport function CarritoProvider({\n  children\n}) {\n  _s();\n  const [carrito, setCarrito] = useState(() => {\n    const almacenado = localStorage.getItem(\"carrito\");\n    return almacenado ? JSON.parse(almacenado) : [];\n  });\n  function agregarAlCarrito(producto) {\n    setCarrito(prev => {\n      const existe = prev.find(p => p.id === producto.id);\n      if (existe) {\n        return prev.map(p => p.id === producto.id ? {\n          ...p,\n          cantidad: p.cantidad + 1\n        } : p);\n      } else {\n        return [...prev, {\n          ...producto,\n          cantidad: 1\n        }];\n      }\n    });\n  }\n  function reducirCantidad(id) {\n    setCarrito(prev => prev.map(p => p.id === id ? {\n      ...p,\n      cantidad: Math.max(p.cantidad - 1, 1)\n    } : p));\n  }\n  function eliminarDelCarrito(id) {\n    setCarrito(prev => prev.filter(p => p.id !== id));\n  }\n  function vaciarCarrito() {\n    setCarrito([]);\n  }\n  return /*#__PURE__*/_jsxDEV(CarritoContext.Provider, {\n    value: {\n      carrito,\n      agregarAlCarrito,\n      eliminarDelCarrito,\n      vaciarCarrito\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(CarritoProvider, \"3NaB2ghgeS7YuWVLvoK7tzeJYwg=\");\n_c = CarritoProvider;\nvar _c;\n$RefreshReg$(_c, \"CarritoProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","jsxDEV","_jsxDEV","CarritoContext","CarritoProvider","children","_s","carrito","setCarrito","almacenado","localStorage","getItem","JSON","parse","agregarAlCarrito","producto","prev","existe","find","p","id","map","cantidad","reducirCantidad","Math","max","eliminarDelCarrito","filter","vaciarCarrito","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/jeduo/OneDrive/Documentos/Full Stack/proyectos react/proyecto-final/frontend/src/context/CarritoContext.js"],"sourcesContent":["import { createContext, useState, useEffect} from \"react\";\r\n\r\nexport const CarritoContext = createContext();\r\n\r\nexport function CarritoProvider({children}) {\r\n\r\n  const[carrito, setCarrito] = useState(() => {\r\n\r\n    const almacenado = localStorage.getItem(\"carrito\");\r\n    return almacenado ? JSON.parse(almacenado) : [];\r\n  });\r\n\r\n  function agregarAlCarrito(producto){\r\n    setCarrito(prev=> {\r\n      const existe = prev.find(p=> p.id === producto.id);\r\n\r\n      if(existe){\r\n        return prev.map(p=> p.id === producto.id ? {...p, cantidad: p.cantidad +1}:p\r\n        );\r\n      }else{\r\n        return[...prev, {...producto, cantidad: 1}];\r\n      }\r\n    });\r\n  }\r\n\r\n  function reducirCantidad(id) {\r\n    setCarrito(prev =>\r\n      prev.map(p =>\r\n        p.id === id\r\n          ? { ...p, cantidad: Math.max(p.cantidad - 1, 1) }\r\n          : p\r\n      )\r\n    );\r\n  }\r\n\r\n\r\n\r\n  function eliminarDelCarrito(id){\r\n    setCarrito(prev => prev.filter(p=> p.id !== id));\r\n  }\r\n  function vaciarCarrito(){\r\n    setCarrito([]);\r\n  }\r\n  return (\r\n    <CarritoContext.Provider value={{carrito, agregarAlCarrito, eliminarDelCarrito, vaciarCarrito}}>\r\n      {children}\r\n    </CarritoContext.Provider>\r\n  )\r\n}\r\n"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1D,OAAO,MAAMC,cAAc,gBAAGL,aAAa,CAAC,CAAC;AAE7C,OAAO,SAASM,eAAeA,CAAC;EAACC;AAAQ,CAAC,EAAE;EAAAC,EAAA;EAE1C,MAAK,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,MAAM;IAE1C,MAAMU,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IAClD,OAAOF,UAAU,GAAGG,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,GAAG,EAAE;EACjD,CAAC,CAAC;EAEF,SAASK,gBAAgBA,CAACC,QAAQ,EAAC;IACjCP,UAAU,CAACQ,IAAI,IAAG;MAChB,MAAMC,MAAM,GAAGD,IAAI,CAACE,IAAI,CAACC,CAAC,IAAGA,CAAC,CAACC,EAAE,KAAKL,QAAQ,CAACK,EAAE,CAAC;MAElD,IAAGH,MAAM,EAAC;QACR,OAAOD,IAAI,CAACK,GAAG,CAACF,CAAC,IAAGA,CAAC,CAACC,EAAE,KAAKL,QAAQ,CAACK,EAAE,GAAG;UAAC,GAAGD,CAAC;UAAEG,QAAQ,EAAEH,CAAC,CAACG,QAAQ,GAAE;QAAC,CAAC,GAACH,CAC3E,CAAC;MACH,CAAC,MAAI;QACH,OAAM,CAAC,GAAGH,IAAI,EAAE;UAAC,GAAGD,QAAQ;UAAEO,QAAQ,EAAE;QAAC,CAAC,CAAC;MAC7C;IACF,CAAC,CAAC;EACJ;EAEA,SAASC,eAAeA,CAACH,EAAE,EAAE;IAC3BZ,UAAU,CAACQ,IAAI,IACbA,IAAI,CAACK,GAAG,CAACF,CAAC,IACRA,CAAC,CAACC,EAAE,KAAKA,EAAE,GACP;MAAE,GAAGD,CAAC;MAAEG,QAAQ,EAAEE,IAAI,CAACC,GAAG,CAACN,CAAC,CAACG,QAAQ,GAAG,CAAC,EAAE,CAAC;IAAE,CAAC,GAC/CH,CACN,CACF,CAAC;EACH;EAIA,SAASO,kBAAkBA,CAACN,EAAE,EAAC;IAC7BZ,UAAU,CAACQ,IAAI,IAAIA,IAAI,CAACW,MAAM,CAACR,CAAC,IAAGA,CAAC,CAACC,EAAE,KAAKA,EAAE,CAAC,CAAC;EAClD;EACA,SAASQ,aAAaA,CAAA,EAAE;IACtBpB,UAAU,CAAC,EAAE,CAAC;EAChB;EACA,oBACEN,OAAA,CAACC,cAAc,CAAC0B,QAAQ;IAACC,KAAK,EAAE;MAACvB,OAAO;MAAEO,gBAAgB;MAAEY,kBAAkB;MAAEE;IAAa,CAAE;IAAAvB,QAAA,EAC5FA;EAAQ;IAAA0B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACc,CAAC;AAE9B;AAAC5B,EAAA,CA5CeF,eAAe;AAAA+B,EAAA,GAAf/B,eAAe;AAAA,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}