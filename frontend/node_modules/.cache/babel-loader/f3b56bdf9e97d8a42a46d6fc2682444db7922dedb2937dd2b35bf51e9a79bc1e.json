{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jeduo\\\\OneDrive\\\\Documentos\\\\Full Stack\\\\proyectos react\\\\proyecto-final\\\\frontend\\\\src\\\\Components\\\\Productos.js\",\n  _s = $RefreshSig$();\nimport { obtenerProductos } from \"../api/productos\";\nimport { useEffect, useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CarritoContext } from \"../context/CarritoContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Productos({\n  filtros\n}) {\n  _s();\n  const [productos, setProductos] = useState([]);\n  const {\n    agregarAlCarrito\n  } = useContext(CarritoContext);\n  useEffect(() => {\n    obtenerProductos().then(setProductos);\n  }, []);\n\n  // ---------- FILTRAR PRODUCTOS -----------\n\n  const productosFiltrados = productos.filter(p => {\n    if (filtros.categoria && String(p.id_categoria) !== filtros.categoria) return false;\n    if (filtros.tipo_prenda && p.tipo_prenda !== filtros.tipo_prenda) return false;\n    if (filtros.estilo && p.estilo !== filtros.estilo) return false;\n    if (filtros.color && p.color !== filtros.color) return false;\n    if (filtros.talla && p.talla !== filtros.talla) return false;\n    if (p.precio < filtros.minPrice || p.precio > filtros.maxPrice) return false;\n    if (filtros.busqueda && !p.nombre.toLowerCase().includes(filtros.busqueda)) {\n      return false;\n    }\n    return true;\n  });\n\n  // ---------- PAGINACIÓN -----------\n\n  const productosPorPagina = 9;\n  const [paginaActual, setPaginaActual] = useState(1);\n  const totalPaginas = Math.ceil(productosFiltrados.length / productosPorPagina);\n  const indiceInicial = (paginaActual - 1) * productosPorPagina;\n  const indiceFinal = indiceInicial + productosPorPagina;\n  const productosPagina = productosFiltrados.slice(indiceInicial, indiceFinal);\n  const cambiarPagina = num => {\n    if (num < 1 || num > totalPaginas) return;\n    setPaginaActual(num);\n  };\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    className: \"art-newArrivals\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box-tarjetas-newArrivals\",\n      children: productosPagina.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tarjeta-newArrivals\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box-img-newArrivals\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            className: \"link-newArrivals\",\n            to: `/producto/${p.id_producto}`,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"img-newArrivals\",\n              src: p.imagen,\n              alt: p.nombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box-info-newArrivals\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: p.nombre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: p.descripcion\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Q\", p.precio]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-produ\",\n            onClick: () => agregarAlCarrito(p),\n            children: \"Agregar al carrito\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, p.id_producto, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pagination\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"prev\",\n        onClick: e => {\n          e.preventDefault();\n          cambiarPagina(paginaActual - 1);\n        },\n        style: {\n          pointerEvents: paginaActual === 1 ? \"none\" : \"auto\",\n          opacity: paginaActual === 1 ? 0.5 : 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-arrow-left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), \" Anterior\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), [...Array(totalPaginas)].map((_, i) => /*#__PURE__*/_jsxDEV(\"a\", {\n        className: `page-num ${paginaActual === i + 1 ? \"active\" : \"\"}`,\n        onClick: e => {\n          e.preventDefault();\n          cambiarPagina(i + 1);\n        },\n        children: i + 1\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"next\",\n        onClick: e => {\n          e.preventDefault();\n          cambiarPagina(paginaActual + 1);\n        },\n        style: {\n          pointerEvents: paginaActual === totalPaginas ? \"none\" : \"auto\",\n          opacity: paginaActual === totalPaginas ? 0.5 : 1\n        },\n        children: [\"Siguiente \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-arrow-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(Productos, \"jtwQpVXCe5zZSPYM3SW88jEV928=\");\n_c = Productos;\nvar _c;\n$RefreshReg$(_c, \"Productos\");","map":{"version":3,"names":["obtenerProductos","useEffect","useState","useContext","Link","CarritoContext","jsxDEV","_jsxDEV","Productos","filtros","_s","productos","setProductos","agregarAlCarrito","then","productosFiltrados","filter","p","categoria","String","id_categoria","tipo_prenda","estilo","color","talla","precio","minPrice","maxPrice","busqueda","nombre","toLowerCase","includes","productosPorPagina","paginaActual","setPaginaActual","totalPaginas","Math","ceil","length","indiceInicial","indiceFinal","productosPagina","slice","cambiarPagina","num","className","children","map","to","id_producto","src","imagen","alt","fileName","_jsxFileName","lineNumber","columnNumber","descripcion","onClick","e","preventDefault","style","pointerEvents","opacity","Array","_","i","_c","$RefreshReg$"],"sources":["C:/Users/jeduo/OneDrive/Documentos/Full Stack/proyectos react/proyecto-final/frontend/src/Components/Productos.js"],"sourcesContent":["import { obtenerProductos } from \"../api/productos\";\r\nimport { useEffect, useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CarritoContext } from \"../context/CarritoContext\";\r\n\r\nexport default function Productos({ filtros }) {\r\n\r\n  const [productos, setProductos] = useState([]);\r\n\r\n  const { agregarAlCarrito } = useContext(CarritoContext);\r\n\r\n  useEffect(() => {\r\n    obtenerProductos().then(setProductos);\r\n  }, []);\r\n\r\n  // ---------- FILTRAR PRODUCTOS -----------\r\n\r\n  const productosFiltrados = productos.filter(p => {\r\n    if (filtros.categoria && String(p.id_categoria) !== filtros.categoria) return false;\r\n    if (filtros.tipo_prenda && p.tipo_prenda !== filtros.tipo_prenda) return false;\r\n    if (filtros.estilo && p.estilo !== filtros.estilo) return false;\r\n    if (filtros.color && p.color !== filtros.color) return false;\r\n    if (filtros.talla && p.talla !== filtros.talla) return false;\r\n    if (p.precio < filtros.minPrice || p.precio > filtros.maxPrice) return false;\r\n\r\n    if (filtros.busqueda && !p.nombre.toLowerCase().includes(filtros.busqueda)) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  });\r\n\r\n  // ---------- PAGINACIÓN -----------\r\n\r\n  const productosPorPagina = 9;\r\n  const [paginaActual, setPaginaActual] = useState(1);\r\n\r\n  const totalPaginas = Math.ceil(productosFiltrados.length / productosPorPagina);\r\n\r\n  const indiceInicial = (paginaActual - 1) * productosPorPagina;\r\n  const indiceFinal = indiceInicial + productosPorPagina;\r\n\r\n  const productosPagina = productosFiltrados.slice(indiceInicial, indiceFinal);\r\n\r\n  const cambiarPagina = (num) => {\r\n    if (num < 1 || num > totalPaginas) return;\r\n    setPaginaActual(num);\r\n  };\r\n\r\n  return (\r\n    <article className=\"art-newArrivals\">\r\n\r\n      <div className=\"box-tarjetas-newArrivals\">\r\n\r\n        {productosPagina.map(p => (\r\n          <div key={p.id_producto} className=\"tarjeta-newArrivals\">\r\n\r\n            <div className=\"box-img-newArrivals\">\r\n              <Link className=\"link-newArrivals\" to={`/producto/${p.id_producto}`}>\r\n                <img className=\"img-newArrivals\" src={p.imagen} alt={p.nombre}/>\r\n              </Link>\r\n            </div>\r\n\r\n            <div className=\"box-info-newArrivals\">\r\n              <h3>{p.nombre}</h3>\r\n              <p>{p.descripcion}</p>\r\n              <span>Q{p.precio}</span>\r\n\r\n              <button \r\n                className=\"add-produ\" \r\n                onClick={() => agregarAlCarrito(p)}\r\n              >\r\n                Agregar al carrito\r\n              </button>\r\n            </div>\r\n\r\n          </div>\r\n        ))}\r\n\r\n      </div>\r\n\r\n      {/* ---------- PAGINACIÓN ---------- */}\r\n      <div className=\"pagination\">\r\n\r\n        <a \r\n          className=\"prev\"\r\n          onClick={(e) => { e.preventDefault(); cambiarPagina(paginaActual - 1); }}\r\n          style={{ pointerEvents: paginaActual === 1 ? \"none\" : \"auto\", opacity: paginaActual === 1 ? 0.5 : 1 }}\r\n        >\r\n          <i className=\"fas fa-arrow-left\"></i> Anterior\r\n        </a>\r\n\r\n        {[...Array(totalPaginas)].map((_, i) => (\r\n          <a\r\n            key={i}\r\n            className={`page-num ${paginaActual === i + 1 ? \"active\" : \"\"}`}\r\n            onClick={(e) => { e.preventDefault(); cambiarPagina(i + 1); }}\r\n          >\r\n            {i + 1}\r\n          </a>\r\n        ))}\r\n\r\n        <a \r\n          className=\"next\"\r\n          onClick={(e) => { e.preventDefault(); cambiarPagina(paginaActual + 1); }}\r\n          style={{ pointerEvents: paginaActual === totalPaginas ? \"none\" : \"auto\", opacity: paginaActual === totalPaginas ? 0.5 : 1 }}\r\n        >\r\n          Siguiente <i className=\"fas fa-arrow-right\"></i>\r\n        </a>\r\n\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}