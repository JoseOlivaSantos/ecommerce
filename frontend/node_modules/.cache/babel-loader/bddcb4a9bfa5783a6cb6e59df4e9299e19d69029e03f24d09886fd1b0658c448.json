{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jeduo\\\\OneDrive\\\\Documentos\\\\Full Stack\\\\proyectos react\\\\proyecto-final\\\\frontend\\\\src\\\\context\\\\CarritoContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CarritoContext = /*#__PURE__*/createContext();\nexport function CarritoProvider({\n  children\n}) {\n  _s();\n  const [carrito, setCarrito] = useState(() => {\n    const almacenado = localStorage.getItem(\"carrito\");\n    return almacenado ? JSON.parse(almacenado) : [];\n  });\n  useEffect(() => {\n    localStorage.setItem(\"carrito\", JSON.stringify(carrito));\n  }, [carrito]);\n  function agregarAlCarrito(producto) {\n    setCarrito(prev => {\n      const existe = prev.find(p => p.id_producto === producto.id_producto);\n      if (existe) {\n        return prev.map(p => p.id_producto === producto.id_producto ? {\n          ...p,\n          cantidad: p.cantidad + 1\n        } : p);\n      } else {\n        return [...prev, {\n          ...producto,\n          cantidad: 1\n        }];\n      }\n    });\n  }\n  function reducirCantidad(id_producto) {\n    setCarrito(prev => prev.map(p => p.id_producto === id_producto ? {\n      ...p,\n      cantidad: Math.max(p.cantidad - 1, 1)\n    } : p));\n  }\n  function aumentarCantidad(id_producto) {\n    setCarrito(prev => prev.map(p => p.id_producto === id_producto ? {\n      ...p,\n      cantidad: p.cantidad + 1\n    } : p));\n  }\n  function eliminarDelCarrito(id_producto) {\n    setCarrito(prev => prev.filter(p => p.id_producto !== id_producto));\n  }\n  function vaciarCarrito() {\n    setCarrito([]);\n    localStorage.removeItem(\"carrito\");\n  }\n  return /*#__PURE__*/_jsxDEV(CarritoContext.Provider, {\n    value: {\n      carrito,\n      agregarAlCarrito,\n      eliminarDelCarrito,\n      vaciarCarrito,\n      reducirCantidad,\n      aumentarCantidad\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(CarritoProvider, \"95kiUVsgH6BWqIJ4EES1wNuDWkE=\");\n_c = CarritoProvider;\nvar _c;\n$RefreshReg$(_c, \"CarritoProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","jsxDEV","_jsxDEV","CarritoContext","CarritoProvider","children","_s","carrito","setCarrito","almacenado","localStorage","getItem","JSON","parse","setItem","stringify","agregarAlCarrito","producto","prev","existe","find","p","id_producto","map","cantidad","reducirCantidad","Math","max","aumentarCantidad","eliminarDelCarrito","filter","vaciarCarrito","removeItem","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/jeduo/OneDrive/Documentos/Full Stack/proyectos react/proyecto-final/frontend/src/context/CarritoContext.js"],"sourcesContent":["import { createContext, useState, useEffect} from \"react\";\r\n\r\nexport const CarritoContext = createContext();\r\n\r\nexport function CarritoProvider({children}) {\r\n\r\n  const[carrito, setCarrito] = useState(() => {\r\n\r\n    const almacenado = localStorage.getItem(\"carrito\");\r\n    return almacenado ? JSON.parse(almacenado) : [];\r\n  });\r\n  useEffect(()=>{\r\n    localStorage.setItem(\"carrito\", JSON.stringify(carrito));\r\n  }, [carrito]);\r\n\r\n  function agregarAlCarrito(producto){\r\n    setCarrito(prev=> {\r\n      const existe = prev.find(p=> p.id_producto === producto.id_producto);\r\n\r\n      if(existe){\r\n        return prev.map(p=> p.id_producto === producto.id_producto ? {...p, cantidad: p.cantidad +1}:p\r\n        );\r\n      }else{\r\n        return[...prev, {...producto, cantidad: 1}];\r\n      }\r\n    });\r\n  }\r\n\r\n  function reducirCantidad(id_producto) {\r\n    setCarrito(prev =>\r\n      prev.map(p =>\r\n        p.id_producto === id_producto\r\n          ? { ...p, cantidad: Math.max(p.cantidad - 1, 1) }\r\n          : p\r\n      )\r\n    );\r\n  }\r\n  function aumentarCantidad(id_producto) {\r\n    setCarrito(prev =>\r\n      prev.map(p =>\r\n        p.id_producto === id_producto\r\n          ? { ...p, cantidad: p.cantidad + 1 }\r\n          : p\r\n      )\r\n    );\r\n  }\r\n\r\n\r\n  function eliminarDelCarrito(id_producto){\r\n    setCarrito(prev => prev.filter(p=> p.id_producto !== id_producto));\r\n  }\r\n  function vaciarCarrito(){\r\n    setCarrito([])\r\n    localStorage.removeItem(\"carrito\");\r\n  }\r\n  return (\r\n    <CarritoContext.Provider value={{carrito, agregarAlCarrito, eliminarDelCarrito, vaciarCarrito, reducirCantidad, aumentarCantidad}}>\r\n      {children}\r\n    </CarritoContext.Provider>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}